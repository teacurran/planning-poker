# Datasource configuration for Flyway (non-reactive)
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=dockercompose
quarkus.datasource.password=dockercompose
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5445/planningpoker

# Reactive datasource configuration
quarkus.datasource.reactive.url=postgresql://localhost:5445/planningpoker
quarkus.datasource.reactive.max-size=20

# Hibernate Reactive configuration
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.log.sql=true

# Flyway configuration
quarkus.flyway.migrate-at-start=true
quarkus.flyway.locations=classpath:db/migration
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=0

# WebSocket configuration
quarkus.websocket.dispatch-to-worker=false

# Quinoa configuration for Vue.js
quarkus.quinoa.ui-dir=src/main/webui
quarkus.quinoa.build-dir=dist
quarkus.quinoa.package-manager-install=true
quarkus.quinoa.package-manager-install.node-version=18.17.0
quarkus.quinoa.package-manager-command.install=install
quarkus.quinoa.package-manager-command.build=run build
quarkus.quinoa.package-manager-command.test=run test
quarkus.quinoa.package-manager-command.dev=run dev
quarkus.quinoa.dev-server.port=5173
quarkus.quinoa.dev-server.check-timeout=60000
quarkus.quinoa.enable-spa-routing=true
quarkus.quinoa.ignored-path-prefixes=/api,/q,/ws

# Development mode
%dev.quarkus.live-reload.watched-resources=src/main/webui
%dev.quarkus.http.cors=true
%dev.quarkus.http.cors.origins=/.*/

# HTTP configuration
# Don't set root-path to allow Quinoa to serve at /
# API endpoints will be under /api due to @Path annotations
# quarkus.http.root-path=/api
quarkus.http.non-application-root-path=/q

# OpenAPI
quarkus.smallrye-openapi.path=/openapi
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui
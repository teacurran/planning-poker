apiVersion: v1
kind: ConfigMap
metadata:
  name: scrum-poker-config
data:
  # Production database connection (RDS production with read replica)
  DB_JDBC_URL: "jdbc:postgresql://scrum-poker-prod.us-east-1.rds.amazonaws.com:5432/scrumpoker"
  DB_REACTIVE_URL: "postgresql://scrum-poker-prod.us-east-1.rds.amazonaws.com:5432/scrumpoker"
  DB_POOL_MAX_SIZE: "30"  # Increased pool size for production load

  # Production Redis connection (ElastiCache Redis Cluster - 3 shards)
  REDIS_URL: "redis://scrum-poker-redis-prod.cache.amazonaws.com:6379"
  REDIS_POOL_MAX_SIZE: "30"  # Increased pool size for production

  # JWT issuer for production environment
  JWT_ISSUER: "https://scrumpoker.com"

  # SSO URLs for production environment
  SSO_SAML2_SP_ENTITY_ID: "https://scrumpoker.com/saml2/metadata"
  SSO_SAML2_ACS_URL: "https://scrumpoker.com/api/v1/auth/sso/saml2/acs"
  SSO_SAML2_SLO_URL: "https://scrumpoker.com/api/v1/auth/sso/saml2/slo"

  # Production S3 bucket
  S3_BUCKET_NAME: "scrum-poker-exports-prod"

  # CORS origins for production frontend
  CORS_ORIGINS: "https://scrumpoker.com,https://www.scrumpoker.com"

  # Production logging configuration
  LOG_LEVEL: "WARN"  # Reduced log verbosity for production
  LOG_JSON_FORMAT: "true"  # Structured logging for log aggregation (CloudWatch, ELK, etc.)
  DB_LOG_SQL: "false"  # Disable SQL logging in production

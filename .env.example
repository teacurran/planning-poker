# ==========================================
# Planning Poker - Environment Variables Template
# ==========================================
# Copy this file to .env and replace placeholder values with your actual configuration
# Usage: cp .env.example .env

# ==========================================
# PostgreSQL Database Configuration
# ==========================================
# PostgreSQL connection settings for the main application database
POSTGRES_USER=scrumpoker
POSTGRES_PASSWORD=change_me_in_production_use_strong_password
POSTGRES_DB=scrumpoker

# PostgreSQL port mapping (host:container)
# Default: 5432:5432 - change host port if needed to avoid conflicts
POSTGRES_PORT=5432

# Database connection URLs for Quarkus application
# JDBC URL for non-reactive operations (Flyway migrations)
DB_JDBC_URL=jdbc:postgresql://localhost:5432/scrumpoker
DB_USERNAME=scrumpoker
DB_PASSWORD=change_me_in_production_use_strong_password

# Reactive database URL for async operations
DB_REACTIVE_URL=postgresql://localhost:5432/scrumpoker

# Database connection pool settings
DB_POOL_MAX_SIZE=20
DB_POOL_IDLE_TIMEOUT=PT10M

# Enable SQL logging for debugging (set to true for development)
DB_LOG_SQL=false

# ==========================================
# Redis Configuration
# ==========================================
# Redis cluster authentication
REDIS_PASSWORD=change_me_in_production_use_strong_password

# Redis connection URL for Quarkus application
# For cluster mode: redis://:<password>@localhost:6379,localhost:6380,localhost:6381
# For standalone: redis://:<password>@localhost:6379
REDIS_URL=redis://:change_me_in_production_use_strong_password@localhost:6379

# Redis connection pool settings
REDIS_POOL_MAX_SIZE=20
REDIS_POOL_MAX_WAITING=50
REDIS_TIMEOUT=10s

# ==========================================
# JWT Configuration (for authentication)
# ==========================================
# JWT secret key - MUST be at least 32 characters long
# Generate a secure random string for production using:
# openssl rand -base64 32
JWT_SECRET=changeme_must_be_long_random_string_minimum_32_characters_required

# JWT issuer URL
JWT_ISSUER=https://scrumpoker.com

# JWT token expiration times (in seconds)
# Access token: 1 hour (3600s), Refresh token: 24 hours (86400s)
JWT_TOKEN_EXPIRATION=3600
JWT_REFRESH_TOKEN_EXPIRATION=86400

# JWT key file locations (for RSA signing)
# JWT_PUBLIC_KEY_LOCATION=/publicKey.pem
# JWT_PRIVATE_KEY_LOCATION=/privateKey.pem

# ==========================================
# OIDC/OAuth2 Configuration (Google, GitHub, etc.)
# ==========================================
# Enable OIDC authentication (disabled by default)
OIDC_ENABLED=false

# OAuth provider configuration
OIDC_AUTH_SERVER_URL=https://accounts.google.com
OIDC_CLIENT_ID=your-client-id-from-oauth-provider
OIDC_CLIENT_SECRET=your-client-secret-from-oauth-provider
OIDC_TOKEN_ISSUER=https://accounts.google.com
OIDC_TOKEN_AUDIENCE=your-client-id-from-oauth-provider

# ==========================================
# WebSocket Configuration
# ==========================================
# Maximum WebSocket frame size in bytes (64KB default)
WS_MAX_FRAME_SIZE=65536

# ==========================================
# HTTP Server Configuration
# ==========================================
# Application HTTP port
HTTP_PORT=8080
HTTP_HOST=0.0.0.0

# CORS configuration for frontend access
# Add your frontend URLs here (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=accept,authorization,content-type,x-requested-with
CORS_EXPOSED_HEADERS=Content-Disposition
CORS_MAX_AGE=24H

# ==========================================
# Flyway Database Migration Configuration
# ==========================================
# Enable/disable automatic database migrations on startup
# Set to false if you want to run migrations manually
FLYWAY_MIGRATE=true

# ==========================================
# Logging Configuration
# ==========================================
# Application log level: TRACE, DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO

# Enable JSON log format for structured logging (for production)
LOG_JSON_FORMAT=false

# ==========================================
# Grafana Configuration
# ==========================================
# Grafana admin credentials (change on first login!)
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ==========================================
# Service URLs and Ports
# ==========================================
# These are the default ports exposed by docker-compose services
# PostgreSQL: localhost:5432
# Redis Node 1: localhost:6379
# Redis Node 2: localhost:6380
# Redis Node 3: localhost:6381
# Prometheus: http://localhost:9090
# Grafana: http://localhost:3000
# Quarkus Application: http://localhost:8080
# Quarkus Metrics: http://localhost:8080/q/metrics
# Quarkus Health: http://localhost:8080/q/health
# Swagger UI: http://localhost:8080/q/swagger-ui
